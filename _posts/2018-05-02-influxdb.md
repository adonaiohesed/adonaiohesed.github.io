---
title: InfluxDB
tags: InfluxDB
key: page-cassandra_influxDB
categories: [Development, Databases]
author: hyoeun
---

# An Introduction to InfluxDB for Developers: What is a Time-Series Database?

When developing and operating software, we encounter a multitude of data. From user logs and Application Performance Metrics (APM) to server resource usage and sensor values from IoT devices, much of this data shares a common axis: time. The Time-Series Database (TSDB) was created to effectively store and analyze such data, and InfluxDB stands out as the leading open-source TSDB.

## Why Use a Time-Series Database (TSDB)?

You might wonder why we need a specialized TSDB when traditional relational databases (RDBMS) can also handle time-based data. The answer lies in performance and efficiency.

  * **High Write Throughput**: TSDBs are optimized for environments that collect hundreds of thousands of data points per second. While traditional RDBMSs focus on transactions and data consistency, TSDBs specialize in ingesting massive data streams without delay.
  * **Efficient Data Compression**: By leveraging the nature of time-sequenced data, TSDBs offer remarkably high compression rates. This significantly reduces storage costs.
  * **Fast Time-Based Queries**: Queries that retrieve data within a specific time range or aggregate data by time intervals (e.g., per-minute averages, hourly maximums) are processed extremely quickly. This is far more efficient than using `GROUP BY` with time functions in an RDBMS.

## The Core Data Model of InfluxDB

To understand InfluxDB, you must first grasp its unique data model. For developers familiar with RDBMS, the comparison below will make it easy to understand.

| RDBMS              | InfluxDB           | Description                                                        |
| ------------------ | ------------------ | ------------------------------------------------------------------ |
| Database           | Database           | The top-level container for data.                                  |
| Table              | Measurement        | A set of related time-series data, conceptually similar to a table.|
| Indexed Column     | Tag                | Metadata used to categorize data. All tags are indexed for fast queries. |
| Non-indexed Column | Field              | The actual measured value (e.g., temperature, CPU usage). Not indexed. |
| Primary Key        | Timestamp          | The time a data point is recorded. All data in InfluxDB has a timestamp. |

For example, let's say you want to store the CPU usage of multiple servers.

  * **Measurement**: `cpu_usage`
  * **Tags**:
      * `host`: The hostname of the server collecting data (e.g., `serverA`, `serverB`)
      * `region`: The region where the server is located (e.g., `us-west-1`, `ap-northeast-2`)
  * **Fields**:
      * `usage_user`: The user-level CPU utilization (e.g., `90.1`)
      * `usage_system`: The system-level CPU utilization (e.g., `5.3`)
  * **Timestamp**: `1672531200000000000` (in nanosecond precision)

Tags are used in `WHERE` or `GROUP BY` clauses to filter or group data, while Fields are the actual values to be analyzed. Therefore, designing your schema by carefully deciding what data becomes a Tag versus a Field is crucial for query performance.

## Writing and Querying Data (Line Protocol & InfluxQL)

InfluxDB writes data using a unique text-based format called Line Protocol. Data is stored simply by sending text in this format via an HTTP API.

**Line Protocol Format:**
`measurement,tag_key1=tag_value1,tag_key2=tag_value2 field_key1=field_value1,field_key2=field_value2 timestamp`

**Data from our example:**
`cpu_usage,host=serverA,region=us-west-1 usage_user=90.1,usage_system=5.3 1672531200000000000`

Data is queried using InfluxQL, a query language very similar to SQL.

**Query Example:**
This query retrieves the `usage_user` field values from all servers in the `us-west-1` region.

```sql
SELECT usage_user FROM cpu_usage WHERE region = 'us-west-1'
```

This query calculates the 10-minute average of `usage_user` for `serverA` over the last hour.

```sql
SELECT MEAN(usage_user) FROM cpu_usage WHERE host = 'serverA' AND time > now() - 1h GROUP BY time(10m)
```

As demonstrated, InfluxDB provides the write performance, storage efficiency, and powerful analytical capabilities required to handle large-scale time-series data. For any developer tasked with monitoring application health or analyzing real-time event data, InfluxDB is an undeniably compelling choice.

---

# 개발자를 위한 InfluxDB 입문: 시계열 데이터베이스란 무엇인가?

소프트웨어를 개발하고 운영하다 보면 수많은 데이터를 마주하게 됩니다. 사용자 로그, 애플리케이션 성능 지표(APM), 서버 리소스 사용량, IoT 기기에서 수집되는 센서 값 등 많은 데이터는 '시간'이라는 공통된 축을 가집니다. 이러한 데이터를 효과적으로 저장하고 분석하기 위해 등장한 것이 바로 시계열 데이터베이스(Time Series Database, TSDB)이며, InfluxDB는 그중 가장 대표적인 오픈소스 TSDB입니다.

## 왜 시계열 데이터베이스(TSDB)를 사용할까?

전통적인 관계형 데이터베이스(RDBMS)로도 시간 데이터를 처리할 수 있는데 왜 굳이 TSDB를 사용할까요? 이유는 '성능'과 '효율'에 있습니다.

  * **빠른 쓰기(Write) 성능**: TSDB는 초당 수십만 건 이상의 데이터를 수집하는 환경에 최적화되어 있습니다. 기존 RDBMS가 트랜잭션과 데이터 정합성에 중점을 두는 반면, TSDB는 대량의 데이터 스트림을 지연 없이 기록하는 데 특화되어 있습니다.
  * **효율적인 데이터 압축**: 시간 순서로 쌓이는 데이터의 특성을 활용하여 매우 높은 압축률을 제공합니다. 이를 통해 저장 공간을 획기적으로 줄일 수 있습니다.
  * **빠른 시간 기반 조회**: 특정 시간 범위 내의 데이터를 조회하거나, 시간대별로 데이터를 집계(예: 분당 평균, 시간당 최대값)하는 쿼리를 매우 빠르게 처리합니다. 이는 RDBMS에서 `GROUP BY`와 시간 함수를 사용하는 것보다 훨씬 효율적입니다.

## InfluxDB의 핵심 데이터 모델

InfluxDB를 이해하기 위해서는 고유한 데이터 모델을 먼저 알아야 합니다. RDBMS에 익숙한 개발자라면 아래 비교를 통해 쉽게 이해할 수 있습니다.

| RDBMS              | InfluxDB           | 설명                                                                 |
| ------------------ | ------------------ | -------------------------------------------------------------------- |
| Database           | Database           | 데이터베이스, 데이터의 최상위 컨테이너                               |
| Table              | Measurement        | 측정값의 집합. SQL의 테이블과 유사한 개념                            |
| Indexed Column     | Tag                | 데이터를 분류하는 메타데이터. 모든 태그는 인덱싱되어 빠른 조회에 사용  |
| Non-indexed Column | Field              | 실제 측정값(예: 온도, CPU 사용률). 인덱싱되지 않음                     |
| Primary Key        | Timestamp          | 데이터가 기록된 시간. InfluxDB의 모든 데이터는 타임스탬프를 가짐       |

예를 들어, 여러 서버의 CPU 사용률을 저장한다고 가정해 봅시다.

  * **Measurement**: `cpu_usage`
  * **Tags**:
      * `host`: 데이터를 수집한 서버의 호스트명 (예: `serverA`, `serverB`)
      * `region`: 서버가 위치한 리전 (예: `us-west-1`, `ap-northeast-2`)
  * **Fields**:
      * `usage_user`: 사용자 CPU 사용률 (예: `90.1`)
      * `usage_system`: 시스템 CPU 사용률 (예: `5.3`)
  * **Timestamp**: `1672531200000000000` (나노초 단위 시간)

Tags는 데이터를 필터링하거나 그룹화하는 `WHERE` 또는 `GROUP BY` 절에 사용되며, Fields는 실제 분석 대상이 되는 값입니다. 따라서 쿼리 성능을 고려하여 어떤 데이터를 Tag로 둘지, Field로 둘지 설계하는 것이 매우 중요합니다.

## 데이터 쓰기 및 읽기 (Line Protocol & InfluxQL)

InfluxDB는 Line Protocol이라는 독특한 텍스트 기반 형식으로 데이터를 씁니다. HTTP API를 통해 이 형식의 텍스트를 전송하기만 하면 데이터가 저장됩니다.

**Line Protocol 형식:**
`measurement,tag_key1=tag_value1,tag_key2=tag_value2 field_key1=field_value1,field_key2=field_value2 timestamp`

**위 예시의 실제 데이터:**
`cpu_usage,host=serverA,region=us-west-1 usage_user=90.1,usage_system=5.3 1672531200000000000`

데이터 조회는 SQL과 매우 유사한 InfluxQL이라는 쿼리 언어를 사용합니다.

**쿼리 예시:**
`us-west-1` 리전에 있는 모든 서버의 `usage_user` 필드 값을 조회하는 쿼리입니다.

```sql
SELECT usage_user FROM cpu_usage WHERE region = 'us-west-1'
```

지난 1시간 동안 `serverA`의 `usage_user`를 10분 단위로 평균을 내어 조회하는 쿼리입니다.

```sql
SELECT MEAN(usage_user) FROM cpu_usage WHERE host = 'serverA' AND time > now() - 1h GROUP BY time(10m)
```

이처럼 InfluxDB는 대용량 시계열 데이터를 다루는 데 필요한 쓰기 성능, 저장 효율, 그리고 강력한 분석 기능을 모두 갖춘 데이터베이스입니다. 애플리케이션의 상태를 모니터링하거나, 실시간으로 발생하는 이벤트 데이터를 분석해야 하는 개발자라면 InfluxDB는 분명 매력적인 선택지가 될 것입니다.